<!DOCTYPE html>
<html>
<head>
  <title>Live</title>
</head>
<body style="text-align:center;background:black;color:white">

  <h1>ðŸ”´ LIVE TEST</h1>
  <video id="video" autoplay playsinline muted style="width:70%"></video>
  <br><br>
  <button id="btn">Start Camera</button>

  <script src="/socket.io/socket.io.js"></script>
  <script>
    const socket = io();

    socket.on("connect", () => {
      console.log("Socket connected");
    });

    socket.on("disconnect", () => {
      console.log("Socket disconnected");
    });

    const video = document.getElementById("video");
    const btn = document.getElementById("btn");

    btn.onclick = async () => {
      try {
        const stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: true });
        video.srcObject = stream;
        console.log("Camera started");
      } catch (e) {
        console.error("Camera error:", e);
      }
    };
  </script>

</body>
</html>
